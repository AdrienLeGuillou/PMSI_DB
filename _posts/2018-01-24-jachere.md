---
layout: post
title: Révision à la baisse des objectifs
---

Après le premier [proof of concept](https://adrienleguillou.github.io/PMSI_DB/2018/01/18/proof-of-concept/)
je me suis penché sur la conception d'un schema regroupant toutes les infos du
.RSA.

## TL;DR

Soit je pars sur du data-warehousing et le projet sera bien trop long.
Soit je pars sur un format simplifié et l'interet par rapport à ce qu'offre déjà
[pmeasyr](https://github.com/IM-APHP/pmeasyr) est quasi nul. L'objectif va être
de faire un workflow avec pmeasyr permettant de stocker dans une seul DB des données
de plusieurs établissement

## OLAP vs OLTP

En me renseignant sur les dataware-house j'ai pu comprendre un certain nombre
d'erreurs fondamentales dans mon projet initial. Je voulais faire une base de données
la plus normalisée et "propre" possible. L'objectif étant de coller au model
théorique qu'est le model relationnel.

En commençant mes drafts j'ai pu m'apercevoire qu'appliquer les préceptes ennoncés
dans mon README allait entrainner une grande complexité au niveau du schema qui
rend difficile l'exploitation.

Rentre en jeux les conceptes d'OLTAP (OnLine Transaction Processing) et d'OLAP
(OnLine Analytical Processing). Pour faire simple l'OLTP est l'approche qui consiste
à voir la base de donnée comme une memoire de travail sur laquelle beaucoup de modifications
et d'updates de petites tailles seront appliqué. Cela requiert une normalisation
importante pour assurer l'integrité de la donnée. L'OLAP prend la base de donnée
comme une archive. Elle n'est que très peu souvent mise à jour et quand c'est le cas
beaucoup d'info sont modifié d'un coup. Le but est ici de faire de l'analyse. Le
schema de données est dénormalisé, ce qui permet de simplifier les requêtes et
ameliorer les performances. L'integrité de l'information est un problème moindre
car il y à peut de modifications de la base.

On se rend compte évidemment que mon projet relève donc d'une base OLAP. L'idée
même de vouloir un schéma normalisé [5NF](https://en.wikipedia.org/wiki/Fifth_normal_form)
va presque à l'encontre de l'objectif. Un schema de type [star schema](https://en.wikipedia.org/wiki/Star_schema)
serait alors plus adapté.

## Le data-warehousing

Fort de cette découverte je me tourne alors vers les data-warehouse. Notamment
le projet [i2b2](https://www.i2b2.org/) qui permet d'integrer les données médicales
allant du patient à la biologie en passant par les hopitaux, etc.
[Le projet R2b2](https://github.com/MaximeWack/R2b2) parait pouvoir me donner des pistes.

Je trouve donc de la documentation relative au schema de donnée sous-jacent à
i2b2 et commence à chercher comment je pourrais faire tenir les fichiers de transmissions dedans.

Bien que je pense qu'il soit possible de réaliser une telle chose je me rend compte
de l'ampleur du travail que cela représente. Par ailleur je doute que cette démarche
sera très utile car les utilisateurs de data-warehouse voudront une solution plus
complète qu'une simple base de donnée et de l'autre coté les utilisateurs actuels
de [pmeasyr](https://github.com/IM-APHP/pmeasyr) (dont je fais parti) ne seront
que gênés par la complexité induite par cette présentation.

## Conclusion

À vu d'oeil ce projet semble mort dans l'oeuf. Je ne suis pas prêt à investir
de mon temps dans une démarche que je ne vois pas aboutir.

Je garde ce dépot ouvert au cas où quelqu'un verrait une approche plus simple et
efficace qui m'échappe.

De mon coté je vais simplement utiliser les fonction 'db' de [pmeasyr](https://github.com/IM-APHP/pmeasyr)
et tenter de trouver un moyen d'y ajouter la gestion de plusieurs hopitaux en parallèle.